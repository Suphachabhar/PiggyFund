{"ast":null,"code":"var _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/pages/Tracker/Tracker.js\";\nimport React, { Component } from 'react';\nimport { Balance } from '../../components/Transaction/Balance';\nimport { Chart } from '../../components/Transaction/Chart';\nimport { IncomeExpenses } from '../../components/Transaction/IncomeExpenses';\nimport { TransactionList } from '../../components/Transaction/TransactionList';\nimport { GlobalProvider } from '../../context/GlobalState';\nimport cookie from 'react-cookies';\nimport './Tracker.css';\nimport { notification, Drawer, Form, Col, Row, DatePicker, AutoComplete, Input } from 'antd';\n\nfunction onOk(value) {\n  console.log('onOk: ', value);\n}\n\nexport const loginUser = () => {\n  let id = parseInt(cookie.load('userInfo'));\n  return id;\n};\nexport default class Tracker extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false,\n      error: null,\n      isLoaded: false,\n      inputcategory: \"\",\n      datas: {\n        amount: \"\"\n      },\n      date: \"\",\n      categories: []\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.openNotificationWithIcon = type => {\n      notification[type]({\n        message: 'Add',\n        description: 'Add new transcation success.'\n      });\n    };\n\n    this.getCategory = async () => {\n      try {\n        let res = await fetch(`http://ballistic-circular-parent.glitch.me/getallcategory`);\n        let posts = await res.json();\n        this.setState({\n          categories: posts\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.addItems = _ => {\n      const {\n        datas,\n        date,\n        inputcategory\n      } = this.state;\n      let userid = loginUser();\n\n      if (inputcategory.length === 0) {\n        notification['error']({\n          message: 'Add',\n          description: 'Please enter the category name.'\n        });\n      } else if (datas.amount.length === 0 || parseInt(datas.amount) === 0) {\n        notification['error']({\n          message: 'Add',\n          description: 'Please enter a valid number for amount (non-zero).'\n        });\n      } else {\n        fetch(`https://be-4920.herokuapp.com/spending?category=${inputcategory}&amount=${datas.amount}&time=${date}&userid=${userid}`).then(console.log('Add item success')).catch(error => this.setState({\n          isLoaded: true,\n          error: error\n        }));\n        this.openNotificationWithIcon('success');\n        this.onClose();\n      }\n    };\n\n    this.onChange = value => {\n      this.setState({\n        date: value.toISOString()\n      });\n    };\n\n    this.onSelect_inputauto = data => {\n      this.setState({\n        inputcategory: data\n      }); // console.log('onSelect', data);\n    };\n\n    this.onChange_inputauto = data => {\n      this.setState({\n        inputcategory: data\n      }); // console.log('onSelect', data);\n    };\n  }\n\n  componentDidMount() {\n    this.getCategory();\n  }\n\n  render() {\n    const {\n      datas,\n      categories\n    } = this.state;\n    return /*#__PURE__*/React.createElement(GlobalProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Balance, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Chart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(IncomeExpenses, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"back-btn\",\n      onClick: this.showDrawer,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, \"Add Transcation\"), /*#__PURE__*/React.createElement(Drawer, {\n      title: \"Add a new transcation\",\n      width: 520,\n      onClose: this.onClose,\n      visible: this.state.visible,\n      bodyStyle: {\n        paddingBottom: 80\n      },\n      footer: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"additem-btn\",\n        type: \"primary\",\n        onClick: this.onClose,\n        style: {\n          marginRight: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"additem-btn\",\n        onClick: () => {\n          this.addItems();\n        },\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, \"Add Item\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      layout: \"vertical\",\n      hideRequiredMark: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"dateTime\",\n      label: \"DateTime\",\n      rules: [{\n        required: true,\n        message: 'Please choose the dateTime'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"date-input\",\n      size: \"large\",\n      style: {\n        width: '100%'\n      },\n      onChange: this.onChange,\n      onOk: onOk,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"category\",\n      label: \"Category\",\n      rules: [{\n        required: true,\n        message: 'Please enter the category'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      dataSource: categories,\n      onChange: this.onChange_inputauto,\n      onSearch: this.onSelect_inputauto,\n      children: /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Enter catagory...\",\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"amount\",\n      label: \"Amount\",\n      rules: [{\n        required: true,\n        message: 'Please enter the amount'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Enter Amount...\",\n      value: datas.amount,\n      onChange: e => this.setState({\n        datas: { ...datas,\n          amount: e.target.value\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TransactionList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/pages/Tracker/Tracker.js"],"names":["React","Component","Balance","Chart","IncomeExpenses","TransactionList","GlobalProvider","cookie","notification","Drawer","Form","Col","Row","DatePicker","AutoComplete","Input","onOk","value","console","log","loginUser","id","parseInt","load","Tracker","state","visible","error","isLoaded","inputcategory","datas","amount","date","categories","showDrawer","setState","onClose","openNotificationWithIcon","type","message","description","getCategory","res","fetch","posts","json","err","addItems","_","userid","length","then","catch","onChange","toISOString","onSelect_inputauto","data","onChange_inputauto","componentDidMount","render","paddingBottom","textAlign","marginRight","required","width","e","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Balance } from '../../components/Transaction/Balance';\nimport { Chart } from '../../components/Transaction/Chart';\nimport { IncomeExpenses } from '../../components/Transaction/IncomeExpenses';\nimport { TransactionList } from '../../components/Transaction/TransactionList';\nimport { GlobalProvider } from '../../context/GlobalState';\n\nimport cookie from 'react-cookies'\n\nimport './Tracker.css'\nimport { notification, Drawer, Form, Col, Row, DatePicker, AutoComplete, Input } from 'antd';\n\nfunction onOk(value) {\n  console.log('onOk: ', value);\n}\n\nexport const loginUser = () => {\n  let id = parseInt(cookie.load('userInfo'))\n  return id\n}\n\nexport default class Tracker extends Component {\n  state = {\n    visible: false,\n    error: null,\n    isLoaded: false,\n    inputcategory: \"\",\n    datas: {\n      amount: \"\"\n    },\n    date: \"\", \n    categories: []\n  };\n\n  componentDidMount() {\n    this.getCategory()\n  }\n\n  showDrawer = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  openNotificationWithIcon = type => {\n    notification[type]({\n      message: 'Add',\n      description:\n        'Add new transcation success.',\n    });\n  };\n\n  getCategory = async() => {\n    try {\n      let res = await fetch(`http://ballistic-circular-parent.glitch.me/getallcategory`);\n      let posts = await res.json();\n      this.setState({\n        categories: posts\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }  \n\n  addItems = _ => {\n    const { datas, date, inputcategory } = this.state;\n      let userid = loginUser();\n      if (inputcategory.length === 0) {\n          notification['error']({\n              message: 'Add',\n              description:\n                  'Please enter the category name.',\n          });\n      } else if (datas.amount.length === 0 || parseInt(datas.amount) === 0) {\n          notification['error']({\n              message: 'Add',\n              description:\n                  'Please enter a valid number for amount (non-zero).',\n          });\n      } else {\n          fetch(`https://be-4920.herokuapp.com/spending?category=${inputcategory}&amount=${datas.amount}&time=${date}&userid=${userid}`)\n              .then(console.log('Add item success'))\n              .catch(error =>\n                  this.setState({\n                      isLoaded: true,\n                      error: error\n                  })\n          );\n          this.openNotificationWithIcon('success');\n          this.onClose();\n      }\n  }\n\n  onChange = (value) => {\n    this.setState({\n      date: value.toISOString()\n    })\n  }\n\n  onSelect_inputauto = (data) => {\n    this.setState({\n      inputcategory: data\n    })\n    // console.log('onSelect', data);\n  };\n  onChange_inputauto = (data) => {\n    this.setState({\n      inputcategory: data\n    })\n    // console.log('onSelect', data);\n  };\n\n  render() {\n    const { datas, categories } = this.state;\n    return (\n      <GlobalProvider>\n\n        <div className=\"container\">\n          <div className=\"left_container\">\n          <Balance />\n          <Chart />\n          <IncomeExpenses />\n          <button className='back-btn' onClick={this.showDrawer} type=\"primary\">Add Transcation</button>\n          <Drawer\n            title=\"Add a new transcation\"\n            width={520}\n            onClose={this.onClose}\n            visible={this.state.visible}\n            bodyStyle={{ paddingBottom: 80 }}\n            footer={\n              <div\n                style={{\n                  textAlign: 'right',\n                }}\n              >\n                <button className='additem-btn' type=\"primary\" onClick={this.onClose} style={{ marginRight: 8 }}>Cancel</button>\n                <button className='additem-btn' onClick={() => {this.addItems();}} type=\"primary\">Add Item</button>\n              </div>\n            }\n          >\n            <Form layout=\"vertical\" hideRequiredMark>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"dateTime\"\n                    label=\"DateTime\"\n                    rules={[{ required: true, message: 'Please choose the dateTime' }]}\n                  >\n                    <DatePicker className='date-input' \n                      size=\"large\" \n                      style={{ width: '100%' }}\n                      onChange={this.onChange} \n                      onOk={onOk} \n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"category\"\n                    label=\"Category\"\n                    rules={[{ required: true, message: 'Please enter the category' }]}\n                  >\n                    <AutoComplete\n                        dataSource={categories}\n                        onChange={this.onChange_inputauto}\n                        onSearch={this.onSelect_inputauto}\n                        children={\n                          <Input \n                            placeholder=\"Enter catagory...\" \n                            type=\"text\"\n                          />\n                        }\n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"amount\"\n                    label=\"Amount\"\n                    rules={[{ required: true, message: 'Please enter the amount' }]}\n                  >\n                    <input \n                      type=\"number\"\n                      placeholder=\"Enter Amount...\" \n                      value={datas.amount} \n                      onChange={e => this.setState({ datas: { ...datas, amount: e.target.value}})}\n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n            </Form>\n          </Drawer>\n          </div>\n\n          <div className=\"right_container\">\n            \n            <TransactionList />\n          </div>\n          \n          \n          \n          \n        </div>\n      </GlobalProvider>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}