{"ast":null,"code":"var _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/pages/Tracker/Tracker.js\";\nimport React, { Component } from 'react';\nimport { Balance } from '../../components/Transaction/Balance';\nimport { Chart } from '../../components/Transaction/Chart';\nimport { IncomeExpenses } from '../../components/Transaction/IncomeExpenses';\nimport { TransactionList } from '../../components/Transaction/TransactionList';\nimport { GlobalProvider } from '../../context/GlobalState';\nimport cookie from 'react-cookies';\nimport './Tracker.css';\nimport { notification, Drawer, Form, Col, Row, DatePicker } from 'antd';\n\nfunction onOk(value) {\n  console.log('onOk: ', value);\n}\n\nexport const loginUser = () => {\n  let id = parseInt(cookie.load('userInfo'));\n  return id;\n};\nexport default class Tracker extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false,\n      error: null,\n      isLoaded: false,\n      datas: {\n        amount: \"\",\n        category: \"\"\n      },\n      date: \"\",\n      categories: []\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.openNotificationWithIcon = type => {\n      notification[type]({\n        message: 'Add',\n        description: 'Add new transcation success.'\n      });\n    };\n\n    this.getCategory = _ => {\n      // const { categories } = this.state;\n      fetch(`http://ballistic-circular-parent.glitch.me/getallcategory`).then(response => console.log('Get Categoris: ', response[1])) // .then(response => (\n      //   this.setState({ \n      //     categories: response[0] \n      //   })))\n      .catch(error => this.setState({\n        isLoaded: true,\n        error: error\n      }));\n    };\n\n    this.addItems = _ => {\n      const {\n        datas,\n        date\n      } = this.state;\n      let userid = loginUser();\n\n      if (datas.category.length == 0) {\n        notification['error']({\n          message: 'Add',\n          description: 'Please enter the category name.'\n        });\n      } else if (datas.amount.length == 0 || parseInt(datas.amount) == 0) {\n        notification['error']({\n          message: 'Add',\n          description: 'Please enter a valid number for amount (non-zero).'\n        });\n      } else {\n        fetch(`https://be-4920.herokuapp.com/spending?category=${datas.category}&amount=${datas.amount}&time=${date}&userid=${userid}`).then(console.log('Add item success')).catch(error => this.setState({\n          isLoaded: true,\n          error: error\n        }));\n        this.openNotificationWithIcon('success');\n        this.onClose();\n      }\n    };\n\n    this.onChange = value => {\n      this.setState({\n        date: value.toISOString()\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getCategory();\n  }\n\n  render() {\n    const {\n      datas,\n      categories\n    } = this.state;\n    return /*#__PURE__*/React.createElement(GlobalProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Balance, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Chart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(IncomeExpenses, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"back-btn\",\n      onClick: this.showDrawer,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, \"Add Transcation\"), /*#__PURE__*/React.createElement(Drawer, {\n      title: \"Add a new transcation\",\n      width: 520,\n      onClose: this.onClose,\n      visible: this.state.visible,\n      bodyStyle: {\n        paddingBottom: 80\n      },\n      footer: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"additem-btn\",\n        type: \"primary\",\n        onClick: this.onClose,\n        style: {\n          marginRight: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"additem-btn\",\n        onClick: () => {\n          this.addItems();\n        },\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, \"Add Item\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      layout: \"vertical\",\n      hideRequiredMark: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"dateTime\",\n      label: \"DateTime\",\n      rules: [{\n        required: true,\n        message: 'Please choose the dateTime'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"date-input\",\n      size: \"large\",\n      style: {\n        width: '100%'\n      },\n      onChange: this.onChange,\n      onOk: onOk,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, \"Exist Category\"))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"category\",\n      label: \"Category\",\n      rules: [{\n        required: true,\n        message: 'Please enter the category'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter catagory...\",\n      value: datas.category,\n      onChange: e => this.setState({\n        datas: { ...datas,\n          category: e.target.value\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"amount\",\n      label: \"Amount\",\n      rules: [{\n        required: true,\n        message: 'Please enter the amount'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Enter Amount...\",\n      value: datas.amount,\n      onChange: e => this.setState({\n        datas: { ...datas,\n          amount: e.target.value\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TransactionList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/pages/Tracker/Tracker.js"],"names":["React","Component","Balance","Chart","IncomeExpenses","TransactionList","GlobalProvider","cookie","notification","Drawer","Form","Col","Row","DatePicker","onOk","value","console","log","loginUser","id","parseInt","load","Tracker","state","visible","error","isLoaded","datas","amount","category","date","categories","showDrawer","setState","onClose","openNotificationWithIcon","type","message","description","getCategory","_","fetch","then","response","catch","addItems","userid","length","onChange","toISOString","componentDidMount","render","paddingBottom","textAlign","marginRight","required","width","e","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Balance } from '../../components/Transaction/Balance';\nimport { Chart } from '../../components/Transaction/Chart';\nimport { IncomeExpenses } from '../../components/Transaction/IncomeExpenses';\nimport { TransactionList } from '../../components/Transaction/TransactionList';\nimport { GlobalProvider } from '../../context/GlobalState';\n\nimport cookie from 'react-cookies'\n\nimport './Tracker.css'\nimport { notification, Drawer, Form, Col, Row, DatePicker } from 'antd';\n\nfunction onOk(value) {\n  console.log('onOk: ', value);\n}\n\nexport const loginUser = () => {\n  let id = parseInt(cookie.load('userInfo'))\n  return id\n}\n\nexport default class Tracker extends Component {\n  state = {\n    visible: false,\n    error: null,\n    isLoaded: false,\n    datas: {\n      amount: \"\",\n      category: \"\"\n    },\n    date: \"\", \n    categories: []\n  };\n\n  componentDidMount() {\n    this.getCategory()\n  }\n\n  showDrawer = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  openNotificationWithIcon = type => {\n    notification[type]({\n      message: 'Add',\n      description:\n        'Add new transcation success.',\n    });\n  };\n\n  // http://ballistic-circular-parent.glitch.me/getallcategory\n  getCategory = _ => {\n    // const { categories } = this.state;\n    fetch(`http://ballistic-circular-parent.glitch.me/getallcategory`)\n      .then(response => console.log('Get Categoris: ', response[1]))\n      // .then(response => (\n      //   this.setState({ \n      //     categories: response[0] \n      //   })))\n      .catch(error => \n        this.setState({\n          isLoaded: true,\n          error: error\n        })\n      )\n  }\n\n  addItems = _ => {\n    const { datas, date } = this.state;\n      let userid = loginUser();\n      if (datas.category.length == 0) {\n          notification['error']({\n              message: 'Add',\n              description:\n                  'Please enter the category name.',\n          });\n      } else if (datas.amount.length == 0 || parseInt(datas.amount) == 0) {\n          notification['error']({\n              message: 'Add',\n              description:\n                  'Please enter a valid number for amount (non-zero).',\n          });\n      } else {\n          fetch(`https://be-4920.herokuapp.com/spending?category=${datas.category}&amount=${datas.amount}&time=${date}&userid=${userid}`)\n              .then(console.log('Add item success'))\n              .catch(error =>\n                  this.setState({\n                      isLoaded: true,\n                      error: error\n                  })\n          );\n          this.openNotificationWithIcon('success');\n          this.onClose();\n      }\n  }\n\n  onChange = (value) => {\n    this.setState({\n      date: value.toISOString()\n    })\n  }\n\n  render() {\n    const { datas, categories } = this.state;\n    return (\n      <GlobalProvider>\n\n        <div className=\"container\">\n          \n          <div className=\"left_container\">\n          <Balance />\n          <Chart />\n          <IncomeExpenses />\n          <button className='back-btn' onClick={this.showDrawer} type=\"primary\">Add Transcation</button>\n          <Drawer\n            title=\"Add a new transcation\"\n            width={520}\n            onClose={this.onClose}\n            visible={this.state.visible}\n            bodyStyle={{ paddingBottom: 80 }}\n            footer={\n              <div\n                style={{\n                  textAlign: 'right',\n                }}\n              >\n                <button className='additem-btn' type=\"primary\" onClick={this.onClose} style={{ marginRight: 8 }}>Cancel</button>\n                <button className='additem-btn' onClick={() => {this.addItems();}} type=\"primary\">Add Item</button>\n              </div>\n            }\n          >\n            <Form layout=\"vertical\" hideRequiredMark>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"dateTime\"\n                    label=\"DateTime\"\n                    rules={[{ required: true, message: 'Please choose the dateTime' }]}\n                  >\n                    <DatePicker className='date-input' \n                      size=\"large\" \n                      style={{ width: '100%' }}\n                      onChange={this.onChange} \n                      onOk={onOk} \n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <p>Exist Category</p>\n                  {/* {categories.map(item => (\n                    <li key={item._id}>\n                      ID: {item.key}\n                    </li>\n                  ))} */}\n                </Col>\n              </Row>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"category\"\n                    label=\"Category\"\n                    rules={[{ required: true, message: 'Please enter the category' }]}\n                  >\n                    <input \n                      type=\"text\"\n                      placeholder=\"Enter catagory...\" \n                      value={datas.category} \n                      onChange={e => this.setState({ datas: { ...datas, category: e.target.value}})}\n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n              <Row gutter={16}>\n                <Col span={24}>\n                  <Form.Item\n                    name=\"amount\"\n                    label=\"Amount\"\n                    rules={[{ required: true, message: 'Please enter the amount' }]}\n                  >\n                    <input \n                      type=\"number\"\n                      placeholder=\"Enter Amount...\" \n                      value={datas.amount} \n                      onChange={e => this.setState({ datas: { ...datas, amount: e.target.value}})}\n                    />\n                  </Form.Item>\n                </Col>\n              </Row>\n            </Form>\n          </Drawer>\n          </div>\n\n          <div className=\"right_container\">\n            <TransactionList />\n          </div>\n          \n          \n          \n          \n        </div>\n      </GlobalProvider>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}