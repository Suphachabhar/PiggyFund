{"ast":null,"code":"var _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/components/Budget/Balance.js\";\nimport React, { useContext } from 'react';\nimport { GlobalContext_budget } from '../../context/GlobalState_budget';\nexport const trackerData = () => {\n  return cookie.load('trackerData');\n};\nexport const Balance_budget = () => {\n  //   const { transactions } = useContext(GlobalContext);\n  const {\n    budgets\n  } = useContext(GlobalContext_budget);\n  const amounts = budgets.map(budgets => budgets.Amount);\n\n  function calculateProgress(budgets) {\n    const transactions = trackerData();\n    var results = [];\n    budgets.forEach(function (b) {\n      results.push(b);\n      results[results.length - 1].Progress = 0;\n      results[results.length - 1].Spent = 0;\n    });\n    transactions.forEach(function (t) {\n      results.forEach(function (b) {\n        if (b.Category.toUpperCase().localeCompare(t.Category.toUpperCase()) === 0 && b.Month === moment(t.Time).format('MMMM')) {\n          var cost = parseFloat(t.Amount).toFixed(2);\n          b.Spent -= cost;\n        }\n      });\n    }); // const convertToCurrency = cookie.load('currency');\n\n    const rates = cookie.load('rate');\n    let total_spent = 0;\n    results.forEach(function (b) {\n      var newSpent = parseFloat(b.Spent * rates).toFixed(2);\n      var newAmount = parseFloat(b.Amount * rates).toFixed(2);\n      b.Progress = newSpent / newAmount;\n      b.Spent = b.Progress * newAmount;\n      b.newAmount = newAmount;\n      total_spent += newAmount;\n    });\n    return total_spent;\n  }\n\n  ;\n  const total = calculateProgress(budgets);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Your Budget\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, total));\n};","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/components/Budget/Balance.js"],"names":["React","useContext","GlobalContext_budget","trackerData","cookie","load","Balance_budget","budgets","amounts","map","Amount","calculateProgress","transactions","results","forEach","b","push","length","Progress","Spent","t","Category","toUpperCase","localeCompare","Month","moment","Time","format","cost","parseFloat","toFixed","rates","total_spent","newSpent","newAmount","total"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,oBAAT,QAAqC,kCAArC;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC7B,SAAOC,MAAM,CAACC,IAAP,CAAY,aAAZ,CAAP;AACH,CAFM;AAIP,OAAO,MAAMC,cAAc,GAAG,MAAM;AACpC;AACE,QAAM;AAAEC,IAAAA;AAAF,MAAcN,UAAU,CAACC,oBAAD,CAA9B;AAEA,QAAMM,OAAO,GAAGD,OAAO,CAACE,GAAR,CAAYF,OAAO,IAAIA,OAAO,CAACG,MAA/B,CAAhB;;AAGE,WAASC,iBAAT,CAA2BJ,OAA3B,EAAoC;AAChC,UAAMK,YAAY,GAAGT,WAAW,EAAhC;AACA,QAAIU,OAAO,GAAG,EAAd;AAEAN,IAAAA,OAAO,CAACO,OAAR,CAAgB,UAAUC,CAAV,EAAa;AACzBF,MAAAA,OAAO,CAACG,IAAR,CAAaD,CAAb;AACAF,MAAAA,OAAO,CAACA,OAAO,CAACI,MAAR,GAAiB,CAAlB,CAAP,CAA4BC,QAA5B,GAAuC,CAAvC;AACAL,MAAAA,OAAO,CAACA,OAAO,CAACI,MAAR,GAAiB,CAAlB,CAAP,CAA4BE,KAA5B,GAAoC,CAApC;AACH,KAJD;AAMAP,IAAAA,YAAY,CAACE,OAAb,CAAqB,UAAUM,CAAV,EAAa;AAC9BP,MAAAA,OAAO,CAACC,OAAR,CAAgB,UAAUC,CAAV,EAAa;AACzB,YAAIA,CAAC,CAACM,QAAF,CAAWC,WAAX,GAAyBC,aAAzB,CAAuCH,CAAC,CAACC,QAAF,CAAWC,WAAX,EAAvC,MAAqE,CAArE,IAA0EP,CAAC,CAACS,KAAF,KAAYC,MAAM,CAACL,CAAC,CAACM,IAAH,CAAN,CAAeC,MAAf,CAAsB,MAAtB,CAA1F,EAAyH;AACrH,cAAIC,IAAI,GAAGC,UAAU,CAACT,CAAC,CAACV,MAAH,CAAV,CAAqBoB,OAArB,CAA6B,CAA7B,CAAX;AACAf,UAAAA,CAAC,CAACI,KAAF,IAAWS,IAAX;AACH;AACJ,OALD;AAMH,KAPD,EAVgC,CAmBhC;;AACA,UAAMG,KAAK,GAAG3B,MAAM,CAACC,IAAP,CAAY,MAAZ,CAAd;AAEA,QAAI2B,WAAW,GAAG,CAAlB;AACAnB,IAAAA,OAAO,CAACC,OAAR,CAAgB,UAAUC,CAAV,EAAa;AACzB,UAAIkB,QAAQ,GAAGJ,UAAU,CAACd,CAAC,CAACI,KAAF,GAAUY,KAAX,CAAV,CAA4BD,OAA5B,CAAoC,CAApC,CAAf;AACA,UAAII,SAAS,GAAGL,UAAU,CAACd,CAAC,CAACL,MAAF,GAAWqB,KAAZ,CAAV,CAA6BD,OAA7B,CAAqC,CAArC,CAAhB;AACAf,MAAAA,CAAC,CAACG,QAAF,GAAae,QAAQ,GAAGC,SAAxB;AACAnB,MAAAA,CAAC,CAACI,KAAF,GAAUJ,CAAC,CAACG,QAAF,GAAagB,SAAvB;AACAnB,MAAAA,CAAC,CAACmB,SAAF,GAAcA,SAAd;AACAF,MAAAA,WAAW,IAAIE,SAAf;AACH,KAPD;AASA,WAAOF,WAAP;AACH;;AAAA;AAGH,QAAMG,KAAK,GAAGxB,iBAAiB,CAACJ,OAAD,CAA/B;AAEA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK4B,KAAL,CAFF,CADF;AAMD,CAnDM","sourcesContent":["import React, { useContext } from 'react';\nimport { GlobalContext_budget } from '../../context/GlobalState_budget';\n\nexport const trackerData = () => {\n    return cookie.load('trackerData')\n}\n\nexport const Balance_budget = () => {\n//   const { transactions } = useContext(GlobalContext);\n  const { budgets } = useContext(GlobalContext_budget);\n\n  const amounts = budgets.map(budgets => budgets.Amount);\n\n\n    function calculateProgress(budgets) {\n        const transactions = trackerData();\n        var results = [];\n\n        budgets.forEach(function (b) {\n            results.push(b);\n            results[results.length - 1].Progress = 0;\n            results[results.length - 1].Spent = 0;\n        });\n\n        transactions.forEach(function (t) {\n            results.forEach(function (b) {\n                if (b.Category.toUpperCase().localeCompare(t.Category.toUpperCase()) === 0 && b.Month === moment(t.Time).format('MMMM')) {\n                    var cost = parseFloat(t.Amount).toFixed(2)\n                    b.Spent -= cost;\n                }\n            });\n        });\n\n        // const convertToCurrency = cookie.load('currency');\n        const rates = cookie.load('rate');\n\n        let total_spent = 0;\n        results.forEach(function (b) {\n            var newSpent = parseFloat(b.Spent * rates).toFixed(2);\n            var newAmount = parseFloat(b.Amount * rates).toFixed(2);\n            b.Progress = newSpent / newAmount;\n            b.Spent = b.Progress * newAmount;\n            b.newAmount = newAmount;\n            total_spent += newAmount\n        });\n\n        return total_spent;\n    };\n\n\n  const total = calculateProgress(budgets)\n\n  return (\n    <>\n      <h3>Your Budget</h3>\n      <h1>{total}</h1>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}