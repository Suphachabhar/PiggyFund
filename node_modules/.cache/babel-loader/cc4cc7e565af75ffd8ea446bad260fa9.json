{"ast":null,"code":"var _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/components/Budget/Balance.js\";\nimport React, { useContext } from 'react';\nimport { GlobalContext_budget } from '../../context/GlobalState_budget';\nimport cookie from 'react-cookies';\nimport moment from 'moment';\nexport const trackerData = () => {\n  return cookie.load('trackerData');\n};\nexport const Balance_budget = () => {\n  const {\n    budgets\n  } = useContext(GlobalContext_budget);\n\n  function calculateProgress(budgets) {\n    const transactions = trackerData();\n    var results = [];\n    budgets.forEach(function (b) {\n      results.push(b);\n      results[results.length - 1].Progress = 0;\n      results[results.length - 1].Spent = 0;\n    });\n    transactions.forEach(function (t) {\n      results.forEach(function (b) {\n        if (b.Category.toUpperCase().localeCompare(t.Category.toUpperCase()) === 0 && b.Month === moment(t.Time).format('MMMM')) {\n          var cost = parseFloat(t.Amount).toFixed(2);\n          b.Spent -= cost;\n        }\n      });\n    });\n    const rates = cookie.load('rate');\n    let total = [];\n    total.spent = 0;\n    total.amount = 0;\n    results.forEach(function (b) {\n      var newSpent = parseFloat(b.Spent * rates).toFixed(2);\n      var newAmount = parseFloat(b.Amount * rates).toFixed(2);\n      b.Progress = newSpent / newAmount;\n      b.Spent = b.Progress * newAmount;\n      b.newAmount = newAmount;\n      total.amount += b.Amount;\n      total.spent += b.Spent;\n    });\n    return total;\n  }\n\n  ;\n  const total = calculateProgress(budgets);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, total), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inc-exp-container-budget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Expense\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"money minus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, total.spent)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"money plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, total.amount))));\n};","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/4920/4920_project/src/components/Budget/Balance.js"],"names":["React","useContext","GlobalContext_budget","cookie","moment","trackerData","load","Balance_budget","budgets","calculateProgress","transactions","results","forEach","b","push","length","Progress","Spent","t","Category","toUpperCase","localeCompare","Month","Time","format","cost","parseFloat","Amount","toFixed","rates","total","spent","amount","newSpent","newAmount"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { GlobalContext_budget } from '../../context/GlobalState_budget';\nimport cookie from 'react-cookies'\nimport moment from 'moment';\n\nexport const trackerData = () => {\n    return cookie.load('trackerData')\n}\n\nexport const Balance_budget = () => {\n  const { budgets } = useContext(GlobalContext_budget);\n\n  function calculateProgress(budgets) {\n      const transactions = trackerData();\n      var results = [];\n\n      budgets.forEach(function (b) {\n          results.push(b);\n          results[results.length - 1].Progress = 0;\n          results[results.length - 1].Spent = 0;\n      });\n\n      transactions.forEach(function (t) {\n          results.forEach(function (b) {\n              if (b.Category.toUpperCase().localeCompare(t.Category.toUpperCase()) === 0 && b.Month === moment(t.Time).format('MMMM')) {\n                  var cost = parseFloat(t.Amount).toFixed(2)\n                  b.Spent -= cost;\n              }\n          });\n      });\n\n      const rates = cookie.load('rate');\n\n      let total = [];\n      total.spent = 0;\n      total.amount = 0;\n      results.forEach(function (b) {\n          var newSpent = parseFloat(b.Spent * rates).toFixed(2);\n          var newAmount = parseFloat(b.Amount * rates).toFixed(2);\n          b.Progress = newSpent / newAmount;\n          b.Spent = b.Progress * newAmount;\n          b.newAmount = newAmount;\n          total.amount += b.Amount;\n          total.spent += b.Spent;\n      });\n\n      return total;\n  };\n\n\n  const total = calculateProgress(budgets)\n\n  return (\n    <>\n      <h1>{total}</h1>\n      <div className=\"inc-exp-container-budget\">\n        <div>\n          <h4>Expense</h4>\n          <p className=\"money minus\">{total.spent}</p>\n        </div>\n        <div>\n          <h4>Total</h4>\n          <p className=\"money plus\">{total.amount}</p>\n        </div>\n      </div>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}